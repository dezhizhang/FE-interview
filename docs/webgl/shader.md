# 顶点着色器和片元着色器的区别

在 WebGL 中，着色器分为顶点着色器和片元着色器，它们的作用和功能各不相同。

## 顶点着色器（Vertex Shader）

- **作用**：用于处理每个顶点的数据，决定顶点在最终屏幕上的位置。
- **输入**：顶点位置、法线、纹理坐标等。
- **输出**：顶点的位置和传递给片元着色器的属性。
- **特点**：
  - 每个顶点都会被顶点着色器处理一次。
  - 主要负责空间变换，例如将对象空间坐标转换为屏幕空间坐标。
  - 顶点着色器只能输出每个顶点的相关信息，不能直接控制片元的颜色。
- **用途**：常用于模型的几何变换（如平移、旋转、缩放）和法线计算。

**示例代码**：

```glsl
  attribute vec3 a_Position; // 输入顶点位置
  uniform mat4 u_ModelViewProjectionMatrix; // 变换矩阵
  void main() {
      gl_Position = u_ModelViewProjectionMatrix * vec4(a_Position, 1.0); // 输出顶点位置
  }
```

## 片元着色器（Fragment Shader）

- 作用：用于处理每个片元（像素）的颜色和其他属性。
- 输入：顶点着色器输出的插值属性（如颜色、纹理坐标）。

- 输出：片元的颜色值。

特点：

- 每个片元会被片元着色器处理一次。
- 主要负责计算片元的最终颜色（包括纹理映射、光照效果等）。
- 片元着色器可以实现复杂的颜色和光照效果。
- 用途：用于实现材质、纹理、光照效果等视觉效果。

示例代码：

```glsl
precision mediump float;
varying vec4 v_Color; // 接收顶点着色器传递的颜色
void main() {
    gl_FragColor = v_Color; // 输出片元颜色
}
```

## 顶点着色器和片元着色器的区别总结

| 属性     | 顶点着色器                 | 片元着色器               |
| :------- | :------------------------- | :----------------------- |
| 处理对象 | 顶点                       | 片元（像素）             |
| 功能     | 位置变换、投影             | 颜色计算、纹理映射、光照 |
| 输入     | 顶点位置、法线、纹理坐标等 | 顶点着色器插值输出的属性 |
| 输出     | 顶点的屏幕坐标、插值属性   | 片元的最终颜色           |
| 执行次数 | 每个顶点执行一次           | 每个片元执行一次         |
