# Cookie、sessionStorage 和 localStorage 的区别

在 Web 开发中，`Cookie`、`sessionStorage` 和 `localStorage` 是三种常用的存储机制，它们用于在客户端保存数据。尽管它们的目的相似，但在使用方式、存储容量和生命周期等方面存在显著区别。

---

#### 1. Cookie

- **定义**：Cookie 是一种小型文本文件，服务器可以在用户的浏览器上存储数据。
- **存储容量**：每个 Cookie 大小限制为 4KB，且每个域名可以存储的 Cookie 数量有限（通常为 20 个）。

- **生命周期**：

- 可以设置过期时间（expires），如果没有设置，则默认在浏览器会话结束时过期。
- 可以通过设置 Max-Age 属性控制 Cookie 的存活时间。

- **使用场景**：

- 主要用于存储用户的会话信息、认证信息等。

- **访问方式**：
- 通过 `document.cookie` 进行访问和操作。
- Cookie 会随每个 HTTP 请求发送到服务器，增加了网络开销。

---

#### 2. sessionStorage

- **定义**：sessionStorage 是一种 Web 存储机制，用于在单个会话中存储数据，数据在页面会话之间可用，但在浏览器标签或窗口关闭后会被清除。

- **存储容量**：通常每个源（域名 + 协议 + 端口）可以存储约 5MB 的数据（具体限制因浏览器而异）。

- **生命周期**：

- 仅在当前会话中有效，浏览器窗口或标签页关闭后数据将被清除。

- **使用场景**：

- 用于临时存储用户的状态信息、表单数据等。

- **访问方式**：
- 通过 `sessionStorage` 对象访问，例如 `sessionStorage.setItem(key, value)` 和 `sessionStorage.getItem(key)`。

---

#### 3. localStorage

- **定义**：localStorage 是一种 Web 存储机制，用于在浏览器中持久化存储数据，数据在关闭浏览器后依然存在。

- **存储容量**：通常每个源（域名 + 协议 + 端口）可以存储约 5MB 的数据（具体限制因浏览器而异）。

- **生命周期**：

- 数据会永久存储，直到主动删除或清除浏览器的存储。

- **使用场景**：

- 用于存储用户偏好设置、长期保存的用户数据等。

- **访问方式**：
- 通过 `localStorage` 对象访问，例如 `localStorage.setItem(key, value)` 和 `localStorage.getItem(key)`。

---

### 总结

| 特性         | Cookie             | sessionStorage   | localStorage           |
| ------------ | ------------------ | ---------------- | ---------------------- |
| 存储容量     | ≤ 4KB              | ~ 5MB            | ~ 5MB                  |
| 生命周期     | 可设置过期时间     | 当前会话         | 直到主动删除           |
| 访问方式     | `document.cookie`  | `sessionStorage` | `localStorage`         |
| 发送到服务器 | 每个请求都会发送   | 不发送到服务器   | 不发送到服务器         |
| 使用场景     | 用户认证、会话信息 | 临时状态信息     | 用户偏好设置、长期数据 |

通过理解这三种存储机制的区别，可以更好地选择适合的方式来处理 Web 应用中的数据存储需求。
